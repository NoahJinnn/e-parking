{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Fragment, useState, useEffect } from 'react';\nimport Head from 'next/head'; // Languages\n\nimport { i18n, useTranslation, Link } from '@languages/index';\n// Components\nimport Img from '@components/client/Img';\nimport Dropdown from '@components/client/Dropdown'; // Redux\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from '@redux/actions';\n\nconst Header = props => {\n  // Constructor\n  const {\n    isShowMenu,\n    isSticky,\n    pageLoading,\n    section,\n    scrollTo\n  } = props;\n  const {\n    t\n  } = useTranslation(['title']);\n  const locale = useSelector(states => states.locale);\n  const dispatch = useDispatch();\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    isShowSidebar: false,\n    languages: [{\n      code: 'en',\n      title: 'English',\n      is_default: 1\n    }, {\n      code: 'vi',\n      title: 'Tiếng Việt',\n      is_default: 0\n    }],\n    screenWidth: 0\n  });\n  const {\n    isShowSidebar,\n    languages,\n    screenWidth\n  } = state; // useEffect as componentDidMount and componentWillUnmount\n\n  useEffect(() => {\n    setLanguage(i18n.language);\n    window.addEventListener('resize', () => {\n      setState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n        screenWidth: window.innerWidth\n      }));\n      processSidebar('close');\n    });\n    return () => {\n      window.removeEventListener('resize', () => {\n        processSidebar('close');\n      });\n    };\n  }, []);\n\n  const scrollToSection = section_id => {\n    if (section != section_id) {\n      const element = document.getElementById(section_id);\n\n      if (element) {\n        const offset_1 = screenWidth > 991 ? 100 : 90;\n        const offset_2 = screenWidth > 991 ? 100 : 90;\n        window.scrollTo({\n          top: document.documentElement.scrollTop == 0 ? element.offsetTop - offset_1 : element.offsetTop - offset_2,\n          behavior: 'smooth'\n        });\n        processSidebar('close');\n      }\n\n      scrollTo(section_id);\n    }\n  };\n\n  const processSidebar = action => {\n    setState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      isShowSidebar: action == 'open' ? true : false\n    }));\n\n    if (action == 'open') {\n      var _document$getElementB;\n\n      (_document$getElementB = document.getElementById('body-section')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.classList.add('bases__p-event--none');\n      document.body.classList.add('stop-scrolling');\n    } else {\n      var _document$getElementB2;\n\n      (_document$getElementB2 = document.getElementById('body-section')) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.classList.remove('bases__p-event--none');\n      document.body.classList.remove('stop-scrolling');\n    }\n  };\n\n  const setLanguage = locale => {\n    i18n.changeLanguage(locale);\n    dispatch(actions.setLocale(locale));\n  };\n\n  return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"e-Parking\"), __jsx(\"link\", {\n    href: \"/library-asset/css/toastr.min.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"/library-asset/css/tachyons.min.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"/client-asset/css/main.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    type: \"image/png\",\n    href: \"/favicon.png\"\n  })), !pageLoading ? __jsx(\"nav\", {\n    className: `components__header flex justify-between items-center white ph5-l ph3 ${isSticky && !isShowSidebar ? 'pv2' : 'pv3 unsticky'}`\n  }, !isShowSidebar ? __jsx(Link, {\n    route: \"/\",\n    href: {\n      lang: locale\n    },\n    as: `${locale}/`\n  }, __jsx(\"a\", {\n    onClick: () => scrollToSection('')\n  }, __jsx(Img, {\n    className: \"components__header-logo\",\n    src: \"/image-asset/logo.png\"\n  }))) : '', isShowMenu ? __jsx(Fragment, null, __jsx(\"div\", {\n    className: `components__header-menu flex-l ${!isShowSidebar ? 'dn' : ''}`\n  }, __jsx(\"div\", {\n    className: \"dn-l pt3 pl3\",\n    onClick: () => processSidebar('close')\n  }, __jsx(\"i\", {\n    className: \"bases__font--22 fa fa-times\"\n  })), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: () => scrollToSection('overview'),\n    className: `components__header-menu-item ${section == 'overview' ? 'bases__active' : ''}`,\n    \"data-toggle\": \"overview\"\n  }, t('title:overview'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: () => scrollToSection('works'),\n    className: `components__header-menu-item ${section == 'works' ? 'bases__active' : ''}`,\n    \"data-toggle\": \"works\"\n  }, t('title:works'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: () => scrollToSection('products'),\n    className: `components__header-menu-item ${section == 'products' ? 'bases__active' : ''}`,\n    \"data-toggle\": \"products\"\n  }, t('title:products'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: () => scrollToSection('roadmap'),\n    className: `components__header-menu-item ${section == 'roadmap' ? 'bases__active' : ''}`,\n    \"data-toggle\": \"roadmap\"\n  }, t('title:roadmap'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: () => scrollToSection('team'),\n    className: `components__header-menu-item ${section == 'team' ? 'bases__active' : ''}`,\n    \"data-toggle\": \"team\"\n  }, t('title:team'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(Dropdown, {\n    id: 'multilang-dropdown',\n    items: languages,\n    itemIndex: 'title',\n    onClickItem: item => setLanguage(item.code)\n  }, locale, \" \", __jsx(\"i\", {\n    className: \"bases__font--12 ml1 fas fa-caret-down drop-trigger\"\n  })))), !isShowSidebar ? __jsx(\"div\", {\n    className: \"dn-l flex items-center\",\n    onClick: () => processSidebar('open')\n  }, __jsx(Img, {\n    className: \"components__header-bar\",\n    src: \"/image-asset/bar.svg\"\n  })) : '') : '') : '');\n};\n\nHeader.getInitialProps = async () => {\n  return {\n    namespacesRequired: ['title']\n  };\n};\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}