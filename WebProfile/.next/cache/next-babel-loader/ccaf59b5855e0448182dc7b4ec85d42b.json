{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react';\nimport firebase from '@plugins/firebase'; // Languages\n\nimport { useTranslation, Link } from '@languages/index';\n// Data\nimport data from '@assets/data/data'; // Components\n\nimport { Carousel, Img } from '@components/index'; // Redux\n\nimport { useSelector } from 'react-redux';\n\nvar HomePage = function HomePage() {\n  // Constructor\n  var _useTranslation = useTranslation(['title', 'home']),\n      t = _useTranslation.t;\n\n  var locale = useSelector(function (states) {\n    return states.locale;\n  });\n\n  var _useState = useState({\n    intro: data[locale].intro,\n    overview: data[locale].overview,\n    works: data[locale].works,\n    products: data[locale].products,\n    roadmap: data[locale].roadmap,\n    members: data[locale].members,\n    mentors: data[locale].mentors,\n    partners: data[locale].partners,\n    unlimitContents: []\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var intro = state.intro,\n      overview = state.overview,\n      works = state.works,\n      products = state.products,\n      roadmap = state.roadmap,\n      members = state.members,\n      mentors = state.mentors,\n      partners = state.partners,\n      unlimitContents = state.unlimitContents; // useEffect as componentDidUpdate for locale\n\n  useEffect(function () {\n    setState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        intro: data[locale].intro,\n        overview: data[locale].overview,\n        works: data[locale].works,\n        products: data[locale].products,\n        roadmap: data[locale].roadmap,\n        members: data[locale].members,\n        mentors: data[locale].mentors,\n        partners: data[locale].partners\n      });\n    });\n  }, [locale]);\n\n  var limitContent = function limitContent(description, limit) {\n    var content = '';\n\n    if (description != '') {\n      if (description.length < limit) {\n        content = description.slice(0, limit);\n      } else {\n        content = description.slice(0, limit) + '...';\n      }\n\n      return content;\n    }\n  };\n\n  var processLimitContent = function processLimitContent(index) {\n    var pos = unlimitContents.indexOf(index);\n\n    if (pos > -1) {\n      unlimitContents.splice(pos, 1);\n    } else {\n      unlimitContents.push(index);\n    }\n\n    setState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        unlimitContents: unlimitContents\n      });\n    });\n  };\n\n  var renderWorks = function renderWorks(type) {\n    var worksDt = works[type];\n    return worksDt.map(function (work, index) {\n      return __jsx(\"div\", {\n        key: index,\n        className: \"pages__home-works-tooltip pa2 \".concat(worksDt.length == 4 ? 'ph2' : 'ph4'),\n        onClick: function onClick() {\n          firebase.analytics().logEvent(\"\".concat(type, \"_\").concat(index + 1));\n        }\n      }, __jsx(\"div\", {\n        className: \"pages__home-works-tooltip_bubble\"\n      }, __jsx(\"div\", {\n        className: \"pages__home-works-tooltip_content flex justify-center items-center\"\n      }, __jsx(\"div\", null, work.description))), __jsx(\"div\", {\n        className: \"pages__home-works-content_step bases__text--bold mb2\"\n      }, \"0\", index + 1), __jsx(Img, {\n        className: \"pages__home-works-content_icon mb4\",\n        src: work.icon\n      }), __jsx(\"div\", {\n        className: \"pages__home-works-content_title bases__font--16\"\n      }, work.title));\n    });\n  };\n\n  var renderProducts = function renderProducts() {\n    return Object.keys(products).map(function (index) {\n      var product = products[index];\n      return __jsx(Link, {\n        key: index,\n        route: \"product/slug\",\n        params: {\n          lang: locale,\n          slug: index\n        },\n        passHref: true\n      }, __jsx(\"a\", null, __jsx(\"div\", {\n        className: \"relative justify-center\"\n      }, __jsx(Img, {\n        isBlur: true,\n        placeholder: product.thumbnails[0],\n        src: product.images[0]\n      }), __jsx(\"div\", {\n        className: \"pages__home-products-slider-desc bases__font--24 pv3\"\n      }, __jsx(\"span\", null, product.title)))));\n    });\n  };\n\n  var renderRoadmap = function renderRoadmap() {\n    return roadmap.map(function (map, index) {\n      return __jsx(\"div\", {\n        className: \"flex justify-center\",\n        key: index\n      }, __jsx(\"div\", {\n        className: \"mr4 w-50 tr\"\n      }, __jsx(\"div\", {\n        className: \"pages__home-roadmap-time bases__text--light bases__font--20\"\n      }, map.time), __jsx(\"div\", {\n        className: \"pages__home-roadmap-milestone bases__text--light\"\n      }, map.milestone)), __jsx(\"div\", {\n        className: \"pages__home-roadmap-dot \".concat(map.status, \" flex\")\n      }, __jsx(\"span\", {\n        className: \"pages__home-roadmap-dot-status \".concat(map.status)\n      })), index < roadmap.length - 1 ? __jsx(\"div\", {\n        className: \"flex justify-center\"\n      }, __jsx(\"span\", {\n        className: \"pages__home-roadmap-timeline \".concat(map.status)\n      })) : '', __jsx(\"div\", {\n        className: \"ml4 w-50 tl\"\n      }, __jsx(\"div\", {\n        className: \"description bases__font--16\"\n      }, map.description)));\n    });\n  };\n\n  var renderTeam = function renderTeam(key) {\n    var team = state[key];\n    return team.map(function (member, index) {\n      var member_index = \"\".concat(key, \"_\").concat(index);\n      return __jsx(\"div\", {\n        key: member_index,\n        className: \"w-50-m w-third-l mb4 ph2\"\n      }, __jsx(\"div\", {\n        className: \"flex justify-center\"\n      }, __jsx(\"div\", {\n        className: \"pages__home-team-member_avatar\"\n      }, __jsx(Img, {\n        isBlur: true,\n        placeholder: member.thumbnail,\n        src: member.avatar ? member.avatar : '/image-asset/avatar.png'\n      }))), __jsx(\"div\", {\n        className: \"pages__home-team-member_name bases__text--bold mb1\"\n      }, member.name), __jsx(\"div\", {\n        className: \"pages__home-team-member_position bases__font--20 mb3\"\n      }, member.position), __jsx(\"div\", {\n        className: \"description bases__font--16 mb2\"\n      }, unlimitContents.indexOf(member_index) > -1 ? member.description : limitContent(member.description, 122)), member.description.length > 122 ? __jsx(\"div\", {\n        className: \"pages__home-team-member_more bases__text--light bases__p--cursor bases__font--16\",\n        onClick: function onClick() {\n          return processLimitContent(member_index);\n        }\n      }, __jsx(\"i\", {\n        className: \"fa fa-chevron-down \".concat(unlimitContents.indexOf(member_index) > -1 ? 'rotate_up' : 'rotate_down')\n      }), __jsx(\"span\", {\n        className: \"ml1\"\n      }, unlimitContents.indexOf(member_index) > -1 ? t('home:team.less') : t('home:team.more'))) : '');\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: \"pages__home white\"\n  }, __jsx(Img, {\n    className: \"pages__home-banner-bg\",\n    src: \"/image-asset/banner-bg.png\"\n  }), __jsx(\"div\", {\n    className: \"pages__home-section bases__container\"\n  }, __jsx(\"div\", {\n    className: \"flex flex-wrap\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-banner-content w-100 w-50-l self-center ph2-l\"\n  }, __jsx(Img, {\n    className: \"pages__home-banner-logo flex mb3 center\",\n    src: \"/image-asset/banner-logo.png\"\n  }), __jsx(\"div\", {\n    className: \"flex pt3\"\n  }, __jsx(\"i\", {\n    className: \"bases__font--10 mt1 mr2 fas fa-quote-left\"\n  }), __jsx(\"span\", {\n    className: \"description bases__font--16\"\n  }, intro))), __jsx(\"div\", {\n    className: \"pages__home-banner-img w-100 w-50-l ph2-l\"\n  }, __jsx(Img, {\n    src: \"/image-asset/banner.png\"\n  })))), __jsx(\"div\", {\n    className: \"pages__home-section bases__container\",\n    id: \"overview\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-section-heading bases__text--bold\"\n  }, __jsx(\"div\", null, t('title:overview')), __jsx(Img, {\n    src: \"/image-asset/under-line.png\"\n  })), __jsx(\"div\", {\n    className: \"flex flex-wrap\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-overview-img w-100 w-50-l\"\n  }, __jsx(Img, {\n    isBlur: true,\n    placeholder: \"/image-asset/thumbnail/system.jpg\",\n    src: \"/image-asset/system.jpg\"\n  })), __jsx(\"div\", {\n    className: \"pages__home-overview-content flex flex-wrap w-100 w-50-l ph3\"\n  }, __jsx(\"div\", {\n    className: \"w-100\"\n  }, __jsx(\"div\", {\n    className: \"bases__font--24 bases__text--bold description-title\"\n  }, t('home:overview.about')), __jsx(\"div\", {\n    className: \"description bases__font--16 mt4\"\n  }, overview)), __jsx(\"div\", {\n    className: \"pages__home-overview-features w-100 flex\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-overview-features_icon bases__font--16 w-third w-25-l flex items-center\"\n  }, __jsx(Img, {\n    className: \"mr2\",\n    src: \"/image-asset/fast.png\"\n  }), __jsx(\"div\", null, t('home:overview.fast'))), __jsx(\"div\", {\n    className: \"pages__home-overview-features_icon bases__font--16 w-third w-25-l flex items-center\"\n  }, __jsx(Img, {\n    className: \"mr2\",\n    src: \"/image-asset/safe.png\"\n  }), __jsx(\"div\", null, t('home:overview.safe'))), __jsx(\"div\", {\n    className: \"pages__home-overview-features_icon bases__font--16 w-third w-25-l flex items-center\"\n  }, __jsx(Img, {\n    className: \"mr2\",\n    src: \"/image-asset/convenient.png\"\n  }), __jsx(\"div\", null, t('home:overview.convenient'))))))), __jsx(\"div\", {\n    className: \"pages__home-section bases__container\",\n    id: \"works\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-section-heading bases__text--bold\"\n  }, __jsx(\"div\", null, t('title:works')), __jsx(Img, {\n    src: \"/image-asset/under-line.png\"\n  })), __jsx(\"div\", {\n    className: \"pages__home-works pv3\"\n  }, __jsx(\"div\", {\n    className: \"flex justify-center\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-works-heading bases__text--bold\"\n  }, t('home:works.parking'))), __jsx(\"div\", {\n    className: \"flex flex-wrap mt5 tc justify-center items-center\"\n  }, renderWorks('parking')), __jsx(\"span\", {\n    className: \"pages__home-works-dot\"\n  })), __jsx(\"div\", {\n    className: \"pages__home-works mt2 pv3\"\n  }, __jsx(\"div\", {\n    className: \"flex justify-center\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-works-heading bases__text--bold\"\n  }, t('home:works.get'))), __jsx(\"div\", {\n    className: \"flex flex-wrap mt5 tc justify-center items-center\"\n  }, renderWorks('get_car')), __jsx(\"span\", {\n    className: \"pages__home-works-dot\"\n  }))), __jsx(\"div\", {\n    className: \"pages__home-section\",\n    id: \"products\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-section-heading bases__text--bold\"\n  }, __jsx(\"div\", null, t('title:products')), __jsx(Img, {\n    src: \"/image-asset/under-line.png\"\n  })), __jsx(\"div\", {\n    className: \"pages__home-products-slider\"\n  }, __jsx(Carousel, {\n    id: \"products\"\n  }, renderProducts()))), __jsx(\"div\", {\n    className: \"pages__home-section bases__container\",\n    id: \"roadmap\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-section-heading bases__text--bold\"\n  }, __jsx(\"div\", null, t('title:roadmap')), __jsx(Img, {\n    src: \"/image-asset/under-line.png\"\n  })), __jsx(\"div\", {\n    className: \"pages__home-section-semiheading bases__text--bold tc mb4\"\n  }, t('home:roadmap.start')), renderRoadmap()), __jsx(\"div\", {\n    className: \"pages__home-section bases__container\",\n    id: \"team\"\n  }, __jsx(\"div\", {\n    className: \"pages__home-section-heading bases__text--bold\"\n  }, __jsx(\"div\", null, t('title:team')), __jsx(Img, {\n    src: \"/image-asset/under-line.png\"\n  })), members.length ? __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"pages__home-section-semiheading bases__text--bold tc mb4\"\n  }, t('home:team.founding')), __jsx(\"div\", {\n    className: \"pages__home-team-member flex flex-wrap\"\n  }, renderTeam('members'))) : '', mentors.length ? __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"pages__home-section-semiheading bases__text--bold tc mv4\"\n  }, t('home:team.mentors')), __jsx(\"div\", {\n    className: \"pages__home-team-member flex flex-wrap\"\n  }, renderTeam('mentors'))) : '', partners.length ? __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"pages__home-section-semiheading bases__text--bold tc mv4\"\n  }, t('home:team.partners')), __jsx(\"div\", {\n    className: \"pages__home-team-member flex flex-wrap\"\n  }, renderTeam('partners'))) : ''));\n};\n\nHomePage.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {\n            namespacesRequired: ['title', 'home']\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default HomePage;","map":null,"metadata":{},"sourceType":"module"}