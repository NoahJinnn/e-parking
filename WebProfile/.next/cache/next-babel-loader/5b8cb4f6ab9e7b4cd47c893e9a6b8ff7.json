{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Fragment, useState, useEffect } from 'react';\nimport Head from 'next/head'; // Languages\n\nimport { i18n, useTranslation, Link } from '@languages/index';\n// Components\nimport Img from '@components/client/Img';\nimport Dropdown from '@components/client/Dropdown'; // Redux\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from '@redux/actions';\n\nvar Header = function Header(props) {\n  // Constructor\n  var isShowMenu = props.isShowMenu,\n      isSticky = props.isSticky,\n      pageLoading = props.pageLoading,\n      section = props.section,\n      scrollTo = props.scrollTo;\n\n  var _useTranslation = useTranslation(['title']),\n      t = _useTranslation.t;\n\n  var locale = useSelector(function (states) {\n    return states.locale;\n  });\n  var dispatch = useDispatch();\n\n  var _useState = useState({\n    isShowSidebar: false,\n    languages: [{\n      code: 'en',\n      title: 'English',\n      is_default: 1\n    }, {\n      code: 'vi',\n      title: 'Tiếng Việt',\n      is_default: 0\n    }],\n    screenWidth: 0\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var isShowSidebar = state.isShowSidebar,\n      languages = state.languages,\n      screenWidth = state.screenWidth; // useEffect as componentDidMount and componentWillUnmount\n\n  useEffect(function () {\n    setLanguage(i18n.language);\n    window.addEventListener('resize', function () {\n      setState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          screenWidth: window.innerWidth\n        });\n      });\n      processSidebar('close');\n    });\n    return function () {\n      window.removeEventListener('resize', function () {\n        processSidebar('close');\n      });\n    };\n  }, []);\n\n  var scrollToSection = function scrollToSection(section_id) {\n    if (section != section_id) {\n      var element = document.getElementById(section_id);\n\n      if (element) {\n        var offset_1 = screenWidth > 991 ? 100 : 90;\n        var offset_2 = screenWidth > 991 ? 100 : 90;\n        window.scrollTo({\n          top: document.documentElement.scrollTop == 0 ? element.offsetTop - offset_1 : element.offsetTop - offset_2,\n          behavior: 'smooth'\n        });\n        processSidebar('close');\n      }\n\n      scrollTo(section_id);\n    }\n  };\n\n  var processSidebar = function processSidebar(action) {\n    setState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        isShowSidebar: action == 'open' ? true : false\n      });\n    });\n\n    if (action == 'open') {\n      var _document$getElementB;\n\n      (_document$getElementB = document.getElementById('body-section')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.classList.add('bases__p-event--none');\n      document.body.classList.add('stop-scrolling');\n    } else {\n      var _document$getElementB2;\n\n      (_document$getElementB2 = document.getElementById('body-section')) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.classList.remove('bases__p-event--none');\n      document.body.classList.remove('stop-scrolling');\n    }\n  };\n\n  var setLanguage = function setLanguage(locale) {\n    i18n.changeLanguage(locale);\n    dispatch(actions.setLocale(locale));\n  };\n\n  return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"e-Parking\"), __jsx(\"link\", {\n    href: \"/library-asset/css/toastr.min.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"/library-asset/css/tachyons.min.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"/client-asset/css/main.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    type: \"image/png\",\n    href: \"/favicon.png\"\n  })), !pageLoading ? __jsx(\"nav\", {\n    className: \"components__header flex justify-between items-center white ph5-l ph3 \".concat(isSticky && !isShowSidebar ? 'pv2' : 'pv3 unsticky')\n  }, !isShowSidebar ? __jsx(Link, {\n    route: \"/\",\n    href: {\n      lang: locale\n    },\n    as: \"\".concat(locale, \"/\")\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      return scrollToSection('');\n    }\n  }, __jsx(Img, {\n    className: \"components__header-logo\",\n    src: \"/image-asset/logo.png\"\n  }))) : '', isShowMenu ? __jsx(Fragment, null, __jsx(\"div\", {\n    className: \"components__header-menu flex-l \".concat(!isShowSidebar ? 'dn' : '')\n  }, __jsx(\"div\", {\n    className: \"dn-l pt3 pl3\",\n    onClick: function onClick() {\n      return processSidebar('close');\n    }\n  }, __jsx(\"i\", {\n    className: \"bases__font--22 fa fa-times\"\n  })), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: function onClick() {\n      return scrollToSection('overview');\n    },\n    className: \"components__header-menu-item \".concat(section == 'overview' ? 'bases__active' : ''),\n    \"data-toggle\": \"overview\"\n  }, t('title:overview'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: function onClick() {\n      return scrollToSection('works');\n    },\n    className: \"components__header-menu-item \".concat(section == 'works' ? 'bases__active' : ''),\n    \"data-toggle\": \"works\"\n  }, t('title:works'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: function onClick() {\n      return scrollToSection('products');\n    },\n    className: \"components__header-menu-item \".concat(section == 'products' ? 'bases__active' : ''),\n    \"data-toggle\": \"products\"\n  }, t('title:products'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: function onClick() {\n      return scrollToSection('roadmap');\n    },\n    className: \"components__header-menu-item \".concat(section == 'roadmap' ? 'bases__active' : ''),\n    \"data-toggle\": \"roadmap\"\n  }, t('title:roadmap'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(\"div\", {\n    onClick: function onClick() {\n      return scrollToSection('team');\n    },\n    className: \"components__header-menu-item \".concat(section == 'team' ? 'bases__active' : ''),\n    \"data-toggle\": \"team\"\n  }, t('title:team'))), __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(Dropdown, {\n    id: 'multilang-dropdown',\n    items: languages,\n    itemIndex: 'title',\n    onClickItem: function onClickItem(item) {\n      return setLanguage(item.code);\n    }\n  }, locale, \" \", __jsx(\"i\", {\n    className: \"bases__font--12 ml1 fas fa-caret-down drop-trigger\"\n  })))), !isShowSidebar ? __jsx(\"div\", {\n    className: \"dn-l flex items-center\",\n    onClick: function onClick() {\n      return processSidebar('open');\n    }\n  }, __jsx(Img, {\n    className: \"components__header-bar\",\n    src: \"/image-asset/bar.svg\"\n  })) : '') : '') : '');\n};\n\nHeader.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {\n            namespacesRequired: ['title']\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}