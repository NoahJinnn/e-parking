{"ast":null,"code":"import React, { useState, useRef, useCallback, useEffect, memo } from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar observerErr = \"ðŸ’¡react-cool-img: the browser doesn't support Intersection Observer, please install polyfill to enable lazy loading: https://github.com/wellyshen/react-cool-img#intersection-observer-polyfill\";\nvar thresholdWarn = \"ðŸ’¡react-cool-img: the threshold of observerOptions must be a number. Use 0 as fallback.\";\n\nvar useObserver = function (debounce, _ref) {\n  var root = _ref.root,\n      _ref$rootMargin = _ref.rootMargin,\n      rootMargin = _ref$rootMargin === void 0 ? \"50px\" : _ref$rootMargin,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === void 0 ? 0.01 : _ref$threshold;\n\n  var _useState = useState(false),\n      startLoad = _useState[0],\n      setStartLoad = _useState[1];\n\n  var _useState2 = useState(null),\n      el = _useState2[0],\n      setEl = _useState2[1];\n\n  var observerRef = useRef(null);\n  var timeoutRef = useRef(null);\n  var erroredRef = useRef(false);\n  var numThreshold = threshold;\n\n  if (typeof threshold !== \"number\") {\n    console.warn(thresholdWarn);\n    numThreshold = 0;\n  }\n\n  var resetTimeout = useCallback(function () {\n    if (!timeoutRef.current) return;\n    clearTimeout(timeoutRef.current);\n    timeoutRef.current = null;\n  }, []);\n  useEffect(function () {\n    if (!(\"IntersectionObserver\" in window) || !(\"IntersectionObserverEntry\" in window)) {\n      if (!erroredRef.current) {\n        console.error(observerErr);\n        erroredRef.current = true;\n      }\n\n      setStartLoad(true);\n      return function () {\n        return null;\n      };\n    } // eslint-disable-next-line compat/compat\n\n\n    observerRef.current = new IntersectionObserver(function (_ref2) {\n      var _ref2$ = _ref2[0],\n          isIntersecting = _ref2$.isIntersecting,\n          intersectionRatio = _ref2$.intersectionRatio;\n      var inView = isIntersecting !== undefined ? isIntersecting : intersectionRatio > 0;\n\n      if (inView && !startLoad) {\n        timeoutRef.current = setTimeout(function () {\n          setStartLoad(true);\n        }, debounce);\n      } else {\n        resetTimeout();\n      }\n    }, {\n      root: root,\n      rootMargin: rootMargin,\n      threshold: numThreshold\n    });\n    var observer = observerRef.current;\n    if (el) observer.observe(el);\n    return function () {\n      observer.disconnect();\n      resetTimeout();\n    };\n  }, [el, startLoad, root, rootMargin, numThreshold, debounce, resetTimeout]);\n  return [setEl, startLoad];\n};\n\nvar key = \"REACT_COOL_IMG\";\n\nvar set = function set(src) {\n  try {\n    var data = JSON.parse(sessionStorage.getItem(key) || \"{}\");\n    data[src] = new Date();\n    sessionStorage.setItem(key, JSON.stringify(data));\n  } catch (error) {\n    /* istanbul ignore next */\n    console.error(\"\\uD83D\\uDCA1react-cool-img: \" + error);\n  }\n};\n\nvar get = function get(src) {\n  try {\n    var data = JSON.parse(sessionStorage.getItem(key) || \"{}\");\n    return !!data[src];\n  } catch (error) {\n    /* istanbul ignore next */\n    console.error(\"\\uD83D\\uDCA1react-cool-img: \" + error);\n    /* istanbul ignore next */\n\n    return false;\n  }\n};\n/* eslint-disable lines-between-class-members */\n\n\nvar Imager = /*#__PURE__*/function () {\n  function Imager() {\n    _defineProperty(this, \"img\", null);\n\n    _defineProperty(this, \"timeout\", null);\n\n    _defineProperty(this, \"retries\", 1);\n  }\n\n  var _proto = Imager.prototype;\n\n  _proto.load = function load(src, decode, _ref, onError, onLoad, crossOrigin) {\n    var _this = this;\n\n    var _ref$count = _ref.count,\n        count = _ref$count === void 0 ? 3 : _ref$count,\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? 2 : _ref$delay,\n        _ref$acc = _ref.acc,\n        acc = _ref$acc === void 0 ? \"*\" : _ref$acc;\n    this.img = new Image();\n    this.img.src = src;\n    if (crossOrigin) this.img.crossOrigin = crossOrigin;\n    if (decode && this.img.decode) this.img.decode()[\"catch\"](function () {// Ignore decoding error\n    }); // @ts-expect-error\n\n    this.img.onerror = function (event) {\n      if (!count || _this.retries > count) {\n        onError(event);\n        return;\n      }\n\n      var time = acc === \"*\" ? Math.pow(delay, _this.retries) : delay * _this.retries;\n      if (acc === false) time = delay;\n      _this.timeout = setTimeout(function () {\n        _this.clearImgSrc();\n\n        _this.img.src = src;\n      }, time * 1000);\n      _this.retries += 1;\n    };\n\n    this.img.onload = function (event) {\n      onLoad(event);\n    };\n  };\n\n  _proto.unload = function unload() {\n    if (this.img) {\n      this.img.onerror = null;\n      this.img.onload = null;\n      this.clearImgSrc();\n      this.img = null;\n    }\n\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n      this.timeout = null;\n    }\n\n    this.retries = 1;\n  };\n\n  _proto.clearImgSrc = function clearImgSrc() {\n    /* istanbul ignore next */\n    this.img.src = \"\";\n    /* istanbul ignore next */\n\n    try {\n      /* istanbul ignore next */\n      // @ts-ignore\n      delete this.img.src;\n    } catch (error) {// Ignore the error of deleting object properties in Safari strict mode\n    }\n  };\n\n  return Imager;\n}();\n\nvar Img = function Img(_ref) {\n  var _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      placeholder = _ref.placeholder,\n      src = _ref.src,\n      error = _ref.error,\n      crossOrigin = _ref.crossOrigin,\n      _ref$decode = _ref.decode,\n      decode = _ref$decode === void 0 ? true : _ref$decode,\n      _ref$lazy = _ref.lazy,\n      lazy = _ref$lazy === void 0 ? true : _ref$lazy,\n      _ref$cache = _ref.cache,\n      cache = _ref$cache === void 0 ? true : _ref$cache,\n      _ref$debounce = _ref.debounce,\n      debounce = _ref$debounce === void 0 ? 300 : _ref$debounce,\n      _ref$observerOptions = _ref.observerOptions,\n      observerOptions = _ref$observerOptions === void 0 ? {} : _ref$observerOptions,\n      _ref$retry = _ref.retry,\n      retry = _ref$retry === void 0 ? {} : _ref$retry,\n      srcSet = _ref.srcSet,\n      sizes = _ref.sizes,\n      onError = _ref.onError,\n      onLoad = _ref.onLoad,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"className\", \"placeholder\", \"src\", \"error\", \"crossOrigin\", \"decode\", \"lazy\", \"cache\", \"debounce\", \"observerOptions\", \"retry\", \"srcSet\", \"sizes\", \"onError\", \"onLoad\"]);\n\n  var imagerRef = useRef(new Imager());\n\n  var _useObserver = useObserver(debounce, observerOptions),\n      setRef = _useObserver[0],\n      startLoad = _useObserver[1];\n\n  var _useState = useState(placeholder || \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\"),\n      source = _useState[0],\n      setSource = _useState[1];\n\n  var isSrc = source === src;\n  var filename = src ? src.replace(/^.*[\\\\/]/, \"\").split(\".\")[0] : \"\";\n\n  var handleError = function handleError(event) {\n    if (onError) onError(event);\n\n    if (error) {\n      setSource(error);\n    } else if (placeholder) {\n      setSource(placeholder);\n    }\n  };\n\n  var handleLoad = function handleLoad(event) {\n    if (onLoad) onLoad(event);\n    setSource(src);\n    if (cache) set(src);\n  };\n\n  useEffect(function () {\n    var imager = imagerRef.current;\n\n    var loadImg = function loadImg() {\n      imager.load(src, decode, retry, handleError, handleLoad, crossOrigin);\n    };\n\n    if (!lazy || cache && get(src)) {\n      loadImg();\n    } else if (startLoad) {\n      loadImg();\n    }\n\n    return function () {\n      imager.unload();\n    };\n  }, [cache, startLoad, src, crossOrigin, decode, retry]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", _extends({\n    className: className + \" no-js-\" + filename,\n    src: source,\n    crossOrigin: isSrc ? crossOrigin : undefined,\n    srcSet: isSrc ? srcSet : undefined,\n    sizes: isSrc ? sizes : undefined,\n    ref: setRef\n  }, rest)), /*#__PURE__*/React.createElement(\"noscript\", null, /*#__PURE__*/React.createElement(\"style\", null, \".no-js-\" + filename + \" { display: none !important; }\"), /*#__PURE__*/React.createElement(\"img\", _extends({\n    className: className,\n    src: src,\n    crossOrigin: crossOrigin,\n    srcSet: srcSet,\n    sizes: sizes\n  }, rest))));\n};\n\nvar index = /*#__PURE__*/memo(Img);\nexport default index;","map":{"version":3,"sources":["/home/nguyen/workspace/projects/eparking/WebForEndUser/node_modules/react-cool-img/dist/index.esm.js"],"names":["React","useState","useRef","useCallback","useEffect","memo","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","observerErr","thresholdWarn","useObserver","debounce","_ref","root","_ref$rootMargin","rootMargin","_ref$threshold","threshold","_useState","startLoad","setStartLoad","_useState2","el","setEl","observerRef","timeoutRef","erroredRef","numThreshold","console","warn","resetTimeout","current","clearTimeout","window","error","IntersectionObserver","_ref2","_ref2$","isIntersecting","intersectionRatio","inView","undefined","setTimeout","observer","observe","disconnect","set","src","data","JSON","parse","sessionStorage","getItem","Date","setItem","stringify","get","Imager","_proto","load","decode","onError","onLoad","crossOrigin","_this","_ref$count","count","_ref$delay","delay","_ref$acc","acc","img","Image","onerror","event","retries","time","Math","pow","timeout","clearImgSrc","onload","unload","Img","_ref$className","className","placeholder","_ref$decode","_ref$lazy","lazy","_ref$cache","cache","_ref$debounce","_ref$observerOptions","observerOptions","_ref$retry","retry","srcSet","sizes","rest","imagerRef","_useObserver","setRef","setSource","isSrc","filename","replace","split","handleError","handleLoad","imager","loadImg","createElement","Fragment","ref","index"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback, useEffect, memo } from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar observerErr = \"ðŸ’¡react-cool-img: the browser doesn't support Intersection Observer, please install polyfill to enable lazy loading: https://github.com/wellyshen/react-cool-img#intersection-observer-polyfill\";\nvar thresholdWarn = \"ðŸ’¡react-cool-img: the threshold of observerOptions must be a number. Use 0 as fallback.\";\nvar useObserver = (function (debounce, _ref) {\n  var root = _ref.root,\n      _ref$rootMargin = _ref.rootMargin,\n      rootMargin = _ref$rootMargin === void 0 ? \"50px\" : _ref$rootMargin,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === void 0 ? 0.01 : _ref$threshold;\n\n  var _useState = useState(false),\n      startLoad = _useState[0],\n      setStartLoad = _useState[1];\n\n  var _useState2 = useState(null),\n      el = _useState2[0],\n      setEl = _useState2[1];\n\n  var observerRef = useRef(null);\n  var timeoutRef = useRef(null);\n  var erroredRef = useRef(false);\n  var numThreshold = threshold;\n\n  if (typeof threshold !== \"number\") {\n    console.warn(thresholdWarn);\n    numThreshold = 0;\n  }\n\n  var resetTimeout = useCallback(function () {\n    if (!timeoutRef.current) return;\n    clearTimeout(timeoutRef.current);\n    timeoutRef.current = null;\n  }, []);\n  useEffect(function () {\n    if (!(\"IntersectionObserver\" in window) || !(\"IntersectionObserverEntry\" in window)) {\n      if (!erroredRef.current) {\n        console.error(observerErr);\n        erroredRef.current = true;\n      }\n\n      setStartLoad(true);\n      return function () {\n        return null;\n      };\n    } // eslint-disable-next-line compat/compat\n\n\n    observerRef.current = new IntersectionObserver(function (_ref2) {\n      var _ref2$ = _ref2[0],\n          isIntersecting = _ref2$.isIntersecting,\n          intersectionRatio = _ref2$.intersectionRatio;\n      var inView = isIntersecting !== undefined ? isIntersecting : intersectionRatio > 0;\n\n      if (inView && !startLoad) {\n        timeoutRef.current = setTimeout(function () {\n          setStartLoad(true);\n        }, debounce);\n      } else {\n        resetTimeout();\n      }\n    }, {\n      root: root,\n      rootMargin: rootMargin,\n      threshold: numThreshold\n    });\n    var observer = observerRef.current;\n    if (el) observer.observe(el);\n    return function () {\n      observer.disconnect();\n      resetTimeout();\n    };\n  }, [el, startLoad, root, rootMargin, numThreshold, debounce, resetTimeout]);\n  return [setEl, startLoad];\n});\n\nvar key = \"REACT_COOL_IMG\";\nvar set = function set(src) {\n  try {\n    var data = JSON.parse(sessionStorage.getItem(key) || \"{}\");\n    data[src] = new Date();\n    sessionStorage.setItem(key, JSON.stringify(data));\n  } catch (error) {\n    /* istanbul ignore next */\n    console.error(\"\\uD83D\\uDCA1react-cool-img: \" + error);\n  }\n};\nvar get = function get(src) {\n  try {\n    var data = JSON.parse(sessionStorage.getItem(key) || \"{}\");\n    return !!data[src];\n  } catch (error) {\n    /* istanbul ignore next */\n    console.error(\"\\uD83D\\uDCA1react-cool-img: \" + error);\n    /* istanbul ignore next */\n\n    return false;\n  }\n};\n\n/* eslint-disable lines-between-class-members */\nvar Imager = /*#__PURE__*/function () {\n  function Imager() {\n    _defineProperty(this, \"img\", null);\n\n    _defineProperty(this, \"timeout\", null);\n\n    _defineProperty(this, \"retries\", 1);\n  }\n\n  var _proto = Imager.prototype;\n\n  _proto.load = function load(src, decode, _ref, onError, onLoad, crossOrigin) {\n    var _this = this;\n\n    var _ref$count = _ref.count,\n        count = _ref$count === void 0 ? 3 : _ref$count,\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? 2 : _ref$delay,\n        _ref$acc = _ref.acc,\n        acc = _ref$acc === void 0 ? \"*\" : _ref$acc;\n    this.img = new Image();\n    this.img.src = src;\n    if (crossOrigin) this.img.crossOrigin = crossOrigin;\n    if (decode && this.img.decode) this.img.decode()[\"catch\"](function () {// Ignore decoding error\n    }); // @ts-expect-error\n\n    this.img.onerror = function (event) {\n      if (!count || _this.retries > count) {\n        onError(event);\n        return;\n      }\n\n      var time = acc === \"*\" ? Math.pow(delay, _this.retries) : delay * _this.retries;\n      if (acc === false) time = delay;\n      _this.timeout = setTimeout(function () {\n        _this.clearImgSrc();\n\n        _this.img.src = src;\n      }, time * 1000);\n      _this.retries += 1;\n    };\n\n    this.img.onload = function (event) {\n      onLoad(event);\n    };\n  };\n\n  _proto.unload = function unload() {\n    if (this.img) {\n      this.img.onerror = null;\n      this.img.onload = null;\n      this.clearImgSrc();\n      this.img = null;\n    }\n\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n      this.timeout = null;\n    }\n\n    this.retries = 1;\n  };\n\n  _proto.clearImgSrc = function clearImgSrc() {\n    /* istanbul ignore next */\n    this.img.src = \"\";\n    /* istanbul ignore next */\n\n    try {\n      /* istanbul ignore next */\n      // @ts-ignore\n      delete this.img.src;\n    } catch (error) {// Ignore the error of deleting object properties in Safari strict mode\n    }\n  };\n\n  return Imager;\n}();\n\nvar Img = function Img(_ref) {\n  var _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      placeholder = _ref.placeholder,\n      src = _ref.src,\n      error = _ref.error,\n      crossOrigin = _ref.crossOrigin,\n      _ref$decode = _ref.decode,\n      decode = _ref$decode === void 0 ? true : _ref$decode,\n      _ref$lazy = _ref.lazy,\n      lazy = _ref$lazy === void 0 ? true : _ref$lazy,\n      _ref$cache = _ref.cache,\n      cache = _ref$cache === void 0 ? true : _ref$cache,\n      _ref$debounce = _ref.debounce,\n      debounce = _ref$debounce === void 0 ? 300 : _ref$debounce,\n      _ref$observerOptions = _ref.observerOptions,\n      observerOptions = _ref$observerOptions === void 0 ? {} : _ref$observerOptions,\n      _ref$retry = _ref.retry,\n      retry = _ref$retry === void 0 ? {} : _ref$retry,\n      srcSet = _ref.srcSet,\n      sizes = _ref.sizes,\n      onError = _ref.onError,\n      onLoad = _ref.onLoad,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"className\", \"placeholder\", \"src\", \"error\", \"crossOrigin\", \"decode\", \"lazy\", \"cache\", \"debounce\", \"observerOptions\", \"retry\", \"srcSet\", \"sizes\", \"onError\", \"onLoad\"]);\n\n  var imagerRef = useRef(new Imager());\n\n  var _useObserver = useObserver(debounce, observerOptions),\n      setRef = _useObserver[0],\n      startLoad = _useObserver[1];\n\n  var _useState = useState(placeholder || \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\"),\n      source = _useState[0],\n      setSource = _useState[1];\n\n  var isSrc = source === src;\n  var filename = src ? src.replace(/^.*[\\\\/]/, \"\").split(\".\")[0] : \"\";\n\n  var handleError = function handleError(event) {\n    if (onError) onError(event);\n\n    if (error) {\n      setSource(error);\n    } else if (placeholder) {\n      setSource(placeholder);\n    }\n  };\n\n  var handleLoad = function handleLoad(event) {\n    if (onLoad) onLoad(event);\n    setSource(src);\n    if (cache) set(src);\n  };\n\n  useEffect(function () {\n    var imager = imagerRef.current;\n\n    var loadImg = function loadImg() {\n      imager.load(src, decode, retry, handleError, handleLoad, crossOrigin);\n    };\n\n    if (!lazy || cache && get(src)) {\n      loadImg();\n    } else if (startLoad) {\n      loadImg();\n    }\n\n    return function () {\n      imager.unload();\n    };\n  }, [cache, startLoad, src, crossOrigin, decode, retry]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", _extends({\n    className: className + \" no-js-\" + filename,\n    src: source,\n    crossOrigin: isSrc ? crossOrigin : undefined,\n    srcSet: isSrc ? srcSet : undefined,\n    sizes: isSrc ? sizes : undefined,\n    ref: setRef\n  }, rest)), /*#__PURE__*/React.createElement(\"noscript\", null, /*#__PURE__*/React.createElement(\"style\", null, \".no-js-\" + filename + \" { display: none !important; }\"), /*#__PURE__*/React.createElement(\"img\", _extends({\n    className: className,\n    src: src,\n    crossOrigin: crossOrigin,\n    srcSet: srcSet,\n    sizes: sizes\n  }, rest))));\n};\n\nvar index = /*#__PURE__*/memo(Img);\n\nexport default index;\n"]},"metadata":{},"sourceType":"module"}