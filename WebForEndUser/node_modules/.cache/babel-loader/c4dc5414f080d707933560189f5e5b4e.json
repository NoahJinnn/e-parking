{"ast":null,"code":"import { useEffect, useState } from 'react';\n/**\n * Make and timeout hook\n * @param timeOut time on init\n * @param onTimeOut Callback end timout done\n */\n\nexport function useTimeOut(timeOut, onTimeOut) {\n  const [time, setTime] = useState(timeOut);\n  useEffect(() => {\n    const timerID = setInterval(() => {\n      if (time > 0) {\n        setTime(time - 1);\n      } else {\n        if (onTimeOut) onTimeOut();\n      }\n    }, 1000);\n    return () => {\n      clearInterval(timerID);\n    };\n  }, [time, setTime, onTimeOut]);\n  return [time, setTime];\n}","map":{"version":3,"sources":["/home/nguyen/workspace/projects/eparking/WebForEndUser/src/hooks/timeout.ts"],"names":["useEffect","useState","useTimeOut","timeOut","onTimeOut","time","setTime","timerID","setInterval","clearInterval"],"mappings":"AAAA,SAAmCA,SAAnC,EAA8CC,QAA9C,QAA8D,OAA9D;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,UAAT,CAAqBC,OAArB,EAAsCC,SAAtC,EAAyG;AAC5G,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAACE,OAAD,CAAhC;AACAH,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMO,OAAO,GAAGC,WAAW,CAAC,MAAM;AAC9B,UAAIH,IAAI,GAAG,CAAX,EAAc;AACVC,QAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACH,OAFD,MAEO;AACH,YAAID,SAAJ,EAAeA,SAAS;AAC3B;AACJ,KAN0B,EAMxB,IANwB,CAA3B;AAOA,WAAO,MAAM;AACTK,MAAAA,aAAa,CAACF,OAAD,CAAb;AACH,KAFD;AAGH,GAXQ,EAWN,CAACF,IAAD,EAAOC,OAAP,EAAgBF,SAAhB,CAXM,CAAT;AAaA,SAAO,CAACC,IAAD,EAAOC,OAAP,CAAP;AACH","sourcesContent":["import { Dispatch, SetStateAction, useEffect, useState } from 'react';\n\n/**\n * Make and timeout hook\n * @param timeOut time on init\n * @param onTimeOut Callback end timout done\n */\nexport function useTimeOut (timeOut: number, onTimeOut?: () => any): [number, Dispatch<SetStateAction<number>>] {\n    const [time, setTime] = useState(timeOut);\n    useEffect(() => {\n        const timerID = setInterval(() => {\n            if (time > 0) {\n                setTime(time - 1);\n            } else {\n                if (onTimeOut) onTimeOut();\n            }\n        }, 1000);\n        return () => {\n            clearInterval(timerID);\n        };\n    }, [time, setTime, onTimeOut]);\n\n    return [time, setTime];\n}\n"]},"metadata":{},"sourceType":"module"}