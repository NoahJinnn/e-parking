{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Fragment, useEffect, useState } from 'react';\nimport Head from 'next/head'; // Languages\n\nimport { i18n, useTranslation } from '@languages/i18n';\n// Components\nimport Dropdown from './client/Dropdown'; // Redux\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from '@redux/actions';\n\nconst Header = props => {\n  // Constructor\n  const locale = useSelector(states => states.locale);\n  const {\n    t\n  } = useTranslation(['title']);\n  const dispatch = useDispatch();\n  const {\n    0: state,\n    1: setState\n  } = useState(() => {\n    return {\n      languages: [{\n        code: 'en',\n        title: 'English',\n        is_default: 1\n      }, {\n        code: 'vi',\n        title: 'Tiếng Việt',\n        is_default: 0\n      }]\n    };\n  }); // useEffect as componentDidMount\n\n  useEffect(() => {\n    setLanguage(i18n.language);\n  }, []);\n\n  const setLanguage = locale => {\n    i18n.changeLanguage(locale);\n    dispatch(actions.setLocale(locale));\n  };\n\n  return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"e-Parking Partner\"), __jsx(\"link\", {\n    href: \"/library-asset/css/toastr.min.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"/library-asset/css/tachyons.min.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"/client-asset/css/main.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    type: \"image/png\",\n    href: \"/favicon.png\"\n  })), !props.pageLoading ? __jsx(\"div\", null, \"Header\", __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(Dropdown, {\n    id: 'multilang-dropdown',\n    items: state.languages,\n    itemIndex: 'title',\n    onClickItem: item => setLanguage(item.code)\n  }, locale, \" \", __jsx(\"i\", {\n    className: \"bases__font--12 ml1 fas fa-caret-down drop-trigger\"\n  })))) : '');\n};\n\nHeader.getInitialProps = async () => {\n  return {\n    namespacesRequired: ['title']\n  };\n};\n\nexport default Header;","map":{"version":3,"sources":["/home/nguyen/workspace/projects/eparking/WebForPartner/components/Header.tsx"],"names":["Fragment","useEffect","useState","Head","i18n","useTranslation","Dropdown","useDispatch","useSelector","actions","Header","props","locale","states","t","dispatch","state","setState","languages","code","title","is_default","setLanguage","language","changeLanguage","setLocale","pageLoading","item","getInitialProps","namespacesRequired"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,QAA9B,QAA8C,OAA9C;AAEA,OAAOC,IAAP,MAAiB,WAAjB,C,CAEA;;AACA,SAASC,IAAT,EAAeC,cAAf,QAAqC,iBAArC;AAGA;AACA,OAAOC,QAAP,MAAqB,mBAArB,C,CAEA;;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAO,KAAKC,OAAZ,MAAyB,gBAAzB;;AAeA,MAAMC,MAA+B,GAAIC,KAAD,IAAW;AAC/C;AACA,QAAMC,MAAM,GAAGJ,WAAW,CAAEK,MAAD,IAAyBA,MAAM,CAACD,MAAjC,CAA1B;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAQT,cAAc,CAAC,CAAC,OAAD,CAAD,CAA5B;AACA,QAAMU,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAM;AAAA,OAACS,KAAD;AAAA,OAAQC;AAAR,MAAoBf,QAAQ,CAAC,MAAM;AACrC,WAAO;AACHgB,MAAAA,SAAS,EAAE,CACP;AACIC,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,KAAK,EAAE,SAFX;AAGIC,QAAAA,UAAU,EAAE;AAHhB,OADO,EAMP;AACIF,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,KAAK,EAAE,YAFX;AAGIC,QAAAA,UAAU,EAAE;AAHhB,OANO;AADR,KAAP;AAcH,GAfiC,CAAlC,CAL+C,CAsB/C;;AACApB,EAAAA,SAAS,CAAC,MAAM;AACZqB,IAAAA,WAAW,CAAClB,IAAI,CAACmB,QAAN,CAAX;AACH,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMD,WAAW,GAAIV,MAAD,IAAoB;AACpCR,IAAAA,IAAI,CAACoB,cAAL,CAAoBZ,MAApB;AACAG,IAAAA,QAAQ,CAACN,OAAO,CAACgB,SAAR,CAAkBb,MAAlB,CAAD,CAAR;AACH,GAHD;;AAKA,SACI,MAAC,QAAD,QACI,MAAC,IAAD,QACI,yCADJ,EAEI;AAAM,IAAA,IAAI,EAAC,mCAAX;AAA+C,IAAA,GAAG,EAAC;AAAnD,IAFJ,EAGI;AAAM,IAAA,IAAI,EAAC,qCAAX;AAAiD,IAAA,GAAG,EAAC;AAArD,IAHJ,EAII;AAAM,IAAA,IAAI,EAAC,4BAAX;AAAwC,IAAA,GAAG,EAAC;AAA5C,IAJJ,EAKI;AAAM,IAAA,GAAG,EAAC,MAAV;AAAiB,IAAA,IAAI,EAAC,WAAtB;AAAkC,IAAA,IAAI,EAAC;AAAvC,IALJ,CADJ,EAQK,CAACD,KAAK,CAACe,WAAP,GACG,6BAEI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI,MAAC,QAAD;AACI,IAAA,EAAE,EAAE,oBADR;AAEI,IAAA,KAAK,EAAEV,KAAK,CAACE,SAFjB;AAGI,IAAA,SAAS,EAAE,OAHf;AAII,IAAA,WAAW,EAAGS,IAAD,IAAeL,WAAW,CAACK,IAAI,CAACR,IAAN;AAJ3C,KAKKP,MALL,OAKa;AAAG,IAAA,SAAS,EAAC;AAAb,IALb,CADJ,CAFJ,CADH,GAcG,EAtBR,CADJ;AA2BH,CA3DD;;AA6DAF,MAAM,CAACkB,eAAP,GAAyB,YAAY;AACjC,SAAO;AACHC,IAAAA,kBAAkB,EAAE,CAAC,OAAD;AADjB,GAAP;AAGH,CAJD;;AAMA,eAAenB,MAAf","sourcesContent":["import { Fragment, useEffect, useState } from 'react';\n\nimport Head from 'next/head';\n\n// Languages\nimport { i18n, useTranslation } from '@languages/i18n';\nimport { Router } from 'next-i18next';\n\n// Components\nimport Dropdown from './client/Dropdown';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from '@redux/actions';\nimport { ReduxStates } from '@redux/reducers';\n\n/**\n * Header\n * @author: Giang Nguyen\n */\ninterface Props {\n    pageLoading: boolean;\n    router: Router;\n}\ninterface IComponentHeader<P = {}> extends React.FC<P> {\n    getInitialProps: () => Promise<{ namespacesRequired: string[] }>;\n}\n\nconst Header: IComponentHeader<Props> = (props) => {\n    // Constructor\n    const locale = useSelector((states: ReduxStates) => states.locale);\n    const { t } = useTranslation(['title']);\n    const dispatch = useDispatch();\n    const [state, setState] = useState(() => {\n        return {\n            languages: [\n                {\n                    code: 'en',\n                    title: 'English',\n                    is_default: 1,\n                },\n                {\n                    code: 'vi',\n                    title: 'Tiếng Việt',\n                    is_default: 0,\n                },\n            ],\n        };\n    });\n\n    // useEffect as componentDidMount\n    useEffect(() => {\n        setLanguage(i18n.language);\n    }, []);\n\n    const setLanguage = (locale: string) => {\n        i18n.changeLanguage(locale);\n        dispatch(actions.setLocale(locale));\n    };\n\n    return (\n        <Fragment>\n            <Head>\n                <title>e-Parking Partner</title>\n                <link href=\"/library-asset/css/toastr.min.css\" rel=\"stylesheet\" />\n                <link href=\"/library-asset/css/tachyons.min.css\" rel=\"stylesheet\" />\n                <link href=\"/client-asset/css/main.css\" rel=\"stylesheet\" />\n                <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" />\n            </Head>\n            {!props.pageLoading ? (\n                <div>\n                    Header\n                    <div className=\"bases__font--22 ph3-l\">\n                        <Dropdown\n                            id={'multilang-dropdown'}\n                            items={state.languages}\n                            itemIndex={'title'}\n                            onClickItem={(item: any) => setLanguage(item.code)}>\n                            {locale} <i className=\"bases__font--12 ml1 fas fa-caret-down drop-trigger\" />\n                        </Dropdown>\n                    </div>\n                </div>\n            ) : (\n                ''\n            )}\n        </Fragment>\n    );\n};\n\nHeader.getInitialProps = async () => {\n    return {\n        namespacesRequired: ['title'],\n    };\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}