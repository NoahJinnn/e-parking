{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Fragment, useEffect, useState } from 'react';\nimport Head from 'next/head'; // Languages\n\nimport { i18n, useTranslation } from '@languages/i18n';\n// Components\nimport Dropdown from './client/Dropdown'; // Redux\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from '@redux/actions';\n\nvar Header = function Header(props) {\n  _s();\n\n  // Constructor\n  var locale = useSelector(function (states) {\n    return states.locale;\n  });\n\n  var _useTranslation = useTranslation(['title']),\n      t = _useTranslation.t;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(function () {\n    return {\n      languages: [{\n        code: 'en',\n        title: 'English',\n        is_default: 1\n      }, {\n        code: 'vi',\n        title: 'Tiếng Việt',\n        is_default: 0\n      }]\n    };\n  }),\n      state = _useState[0],\n      setState = _useState[1]; // useEffect as componentDidMount\n\n\n  useEffect(function () {\n    setLanguage(i18n.language);\n  }, []);\n\n  var setLanguage = function setLanguage(locale) {\n    i18n.changeLanguage(locale);\n    dispatch(actions.setLocale(locale));\n  };\n\n  return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"title\", null, \"e-Parking Partner\"), __jsx(\"link\", {\n    href: \"/library-asset/css/toastr.min.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"/library-asset/css/tachyons.min.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    href: \"/client-asset/css/main.css\",\n    rel: \"stylesheet\"\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    type: \"image/png\",\n    href: \"/favicon.png\"\n  })), !props.pageLoading ? __jsx(\"div\", null, \"Header\", __jsx(\"div\", {\n    className: \"bases__font--22 ph3-l\"\n  }, __jsx(Dropdown, {\n    id: 'multilang-dropdown',\n    items: state.languages,\n    itemIndex: 'title',\n    onClickItem: function onClickItem(item) {\n      return setLanguage(item.code);\n    }\n  }, locale, \" \", __jsx(\"i\", {\n    className: \"bases__font--12 ml1 fas fa-caret-down drop-trigger\"\n  })))) : '');\n};\n\n_s(Header, \"AB9OcPboT/ivPV7u3gxZFCwO4Dk=\", false, function () {\n  return [useSelector, useTranslation, useDispatch];\n});\n\n_c = Header;\nHeader.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {\n            namespacesRequired: ['title']\n          });\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/home/nguyen/workspace/projects/eparking/WebForPartner/components/Header.tsx"],"names":["Fragment","useEffect","useState","Head","i18n","useTranslation","Dropdown","useDispatch","useSelector","actions","Header","props","locale","states","t","dispatch","languages","code","title","is_default","state","setState","setLanguage","language","changeLanguage","setLocale","pageLoading","item","getInitialProps","namespacesRequired"],"mappings":";;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,QAA9B,QAA8C,OAA9C;AAEA,OAAOC,IAAP,MAAiB,WAAjB,C,CAEA;;AACA,SAASC,IAAT,EAAeC,cAAf,QAAqC,iBAArC;AAGA;AACA,OAAOC,QAAP,MAAqB,mBAArB,C,CAEA;;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAO,KAAKC,OAAZ,MAAyB,gBAAzB;;AAeA,IAAMC,MAA+B,GAAG,SAAlCA,MAAkC,CAACC,KAAD,EAAW;AAAA;;AAC/C;AACA,MAAMC,MAAM,GAAGJ,WAAW,CAAC,UAACK,MAAD;AAAA,WAAyBA,MAAM,CAACD,MAAhC;AAAA,GAAD,CAA1B;;AAF+C,wBAGjCP,cAAc,CAAC,CAAC,OAAD,CAAD,CAHmB;AAAA,MAGvCS,CAHuC,mBAGvCA,CAHuC;;AAI/C,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;;AAJ+C,kBAKrBL,QAAQ,CAAC,YAAM;AACrC,WAAO;AACHc,MAAAA,SAAS,EAAE,CACP;AACIC,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,KAAK,EAAE,SAFX;AAGIC,QAAAA,UAAU,EAAE;AAHhB,OADO,EAMP;AACIF,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,KAAK,EAAE,YAFX;AAGIC,QAAAA,UAAU,EAAE;AAHhB,OANO;AADR,KAAP;AAcH,GAfiC,CALa;AAAA,MAKxCC,KALwC;AAAA,MAKjCC,QALiC,iBAsB/C;;;AACApB,EAAAA,SAAS,CAAC,YAAM;AACZqB,IAAAA,WAAW,CAAClB,IAAI,CAACmB,QAAN,CAAX;AACH,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMD,WAAW,GAAG,SAAdA,WAAc,CAACV,MAAD,EAAoB;AACpCR,IAAAA,IAAI,CAACoB,cAAL,CAAoBZ,MAApB;AACAG,IAAAA,QAAQ,CAACN,OAAO,CAACgB,SAAR,CAAkBb,MAAlB,CAAD,CAAR;AACH,GAHD;;AAKA,SACI,MAAC,QAAD,QACI,MAAC,IAAD,QACI,yCADJ,EAEI;AAAM,IAAA,IAAI,EAAC,mCAAX;AAA+C,IAAA,GAAG,EAAC;AAAnD,IAFJ,EAGI;AAAM,IAAA,IAAI,EAAC,qCAAX;AAAiD,IAAA,GAAG,EAAC;AAArD,IAHJ,EAII;AAAM,IAAA,IAAI,EAAC,4BAAX;AAAwC,IAAA,GAAG,EAAC;AAA5C,IAJJ,EAKI;AAAM,IAAA,GAAG,EAAC,MAAV;AAAiB,IAAA,IAAI,EAAC,WAAtB;AAAkC,IAAA,IAAI,EAAC;AAAvC,IALJ,CADJ,EAQK,CAACD,KAAK,CAACe,WAAP,GACG,6BAEI;AAAK,IAAA,SAAS,EAAC;AAAf,KACI,MAAC,QAAD;AACI,IAAA,EAAE,EAAE,oBADR;AAEI,IAAA,KAAK,EAAEN,KAAK,CAACJ,SAFjB;AAGI,IAAA,SAAS,EAAE,OAHf;AAII,IAAA,WAAW,EAAE,qBAACW,IAAD;AAAA,aAAeL,WAAW,CAACK,IAAI,CAACV,IAAN,CAA1B;AAAA;AAJjB,KAKKL,MALL,OAKa;AAAG,IAAA,SAAS,EAAC;AAAb,IALb,CADJ,CAFJ,CADH,GAcG,EAtBR,CADJ;AA2BH,CA3DD;;GAAMF,M;UAEaF,W,EACDH,c,EACGE,W;;;KAJfG,M;AA6DNA,MAAM,CAACkB,eAAP,yEAAyB;AAAA;AAAA;AAAA;AAAA;AAAA,2CACd;AACHC,YAAAA,kBAAkB,EAAE,CAAC,OAAD;AADjB,WADc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB;AAMA,eAAenB,MAAf","sourcesContent":["import { Fragment, useEffect, useState } from 'react';\n\nimport Head from 'next/head';\n\n// Languages\nimport { i18n, useTranslation } from '@languages/i18n';\nimport { Router } from 'next-i18next';\n\n// Components\nimport Dropdown from './client/Dropdown';\n\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from '@redux/actions';\nimport { ReduxStates } from '@redux/reducers';\n\n/**\n * Header\n * @author: Giang Nguyen\n */\ninterface Props {\n    pageLoading: boolean;\n    router: Router;\n}\ninterface IComponentHeader<P = {}> extends React.FC<P> {\n    getInitialProps: () => Promise<{ namespacesRequired: string[] }>;\n}\n\nconst Header: IComponentHeader<Props> = (props) => {\n    // Constructor\n    const locale = useSelector((states: ReduxStates) => states.locale);\n    const { t } = useTranslation(['title']);\n    const dispatch = useDispatch();\n    const [state, setState] = useState(() => {\n        return {\n            languages: [\n                {\n                    code: 'en',\n                    title: 'English',\n                    is_default: 1,\n                },\n                {\n                    code: 'vi',\n                    title: 'Tiếng Việt',\n                    is_default: 0,\n                },\n            ],\n        };\n    });\n\n    // useEffect as componentDidMount\n    useEffect(() => {\n        setLanguage(i18n.language);\n    }, []);\n\n    const setLanguage = (locale: string) => {\n        i18n.changeLanguage(locale);\n        dispatch(actions.setLocale(locale));\n    };\n\n    return (\n        <Fragment>\n            <Head>\n                <title>e-Parking Partner</title>\n                <link href=\"/library-asset/css/toastr.min.css\" rel=\"stylesheet\" />\n                <link href=\"/library-asset/css/tachyons.min.css\" rel=\"stylesheet\" />\n                <link href=\"/client-asset/css/main.css\" rel=\"stylesheet\" />\n                <link rel=\"icon\" type=\"image/png\" href=\"/favicon.png\" />\n            </Head>\n            {!props.pageLoading ? (\n                <div>\n                    Header\n                    <div className=\"bases__font--22 ph3-l\">\n                        <Dropdown\n                            id={'multilang-dropdown'}\n                            items={state.languages}\n                            itemIndex={'title'}\n                            onClickItem={(item: any) => setLanguage(item.code)}>\n                            {locale} <i className=\"bases__font--12 ml1 fas fa-caret-down drop-trigger\" />\n                        </Dropdown>\n                    </div>\n                </div>\n            ) : (\n                ''\n            )}\n        </Fragment>\n    );\n};\n\nHeader.getInitialProps = async () => {\n    return {\n        namespacesRequired: ['title'],\n    };\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}